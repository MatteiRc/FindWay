{"ast":null,"code":"var _jsxFileName = \"/home/raphael/Desktop/tcc/frontend-tcc/src/components/ListaProdutoLogado.js\";\nimport React, { Component } from 'react';\nimport Produto from './Produto.js';\nimport Titulo from './Titulo.js';\nimport { ConsumidorServico } from '../contexto.js';\nimport NavBarLogado from './NavBarLogado.js';\nimport { servicos } from '../data.js';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { ButtonServicos, ButtonNome } from './Button.js';\nimport propTypes from 'prop-types';\nimport axios from 'axios';\nimport '../App.css';\nimport { Input } from \"mdbreact\";\nexport default class ListaProduto extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      filtros: \"\",\n      search: \"\",\n      servicos: []\n    };\n\n    this.renderservico = servico => {\n      const {\n        search\n      } = this.state;\n      var code = servico.id;\n      return /*#__PURE__*/React.createElement(ProductWrapper, {\n        className: \"col-9 mx-auto col-md-6 col-lg-3 my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ConsumidorServico, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, valor => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"img-container p-3\",\n        onClick: () => valor.handleDetalhe(servico.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/detalheslogado\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: servico.img,\n        alt: \"product\",\n        className: \"card-img-top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"http://localhost:3002/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(ButtonServicos, {\n        className: \"card-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"fas fa-comments\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 39\n        }\n      })), \"Conversar\")))), /*#__PURE__*/React.createElement(ConsumidorServico, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, valor => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-footer d-flex justify-content-between\",\n        onClick: () => valor.handleDetalhe(servico.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"align-self-center mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        id: \"link\",\n        to: \"/detalheslogado\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }, servico.titulo)), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-italic mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }\n      }, \"R$\"), servico.preco)))));\n    };\n\n    this.onchange = e => {\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.aplicarFiltro = e => {\n      window.localStorage.setItem(\"filtros\", this.state.filtros);\n      window.location.reload();\n    };\n\n    this.limparFiltro = e => {\n      window.localStorage.removeItem(\"filtros\");\n      window.location.reload();\n    };\n  }\n\n  componentDidMount() {\n    if (\"filtros\" in localStorage) {\n      axios.get(\"http://localhost:3001/anuncioCategoria/\" + window.localStorage.getItem(\"filtros\")).then(res => {\n        let arr = new Array();\n        let data = JSON.parse(JSON.stringify(res.data)); //console.log(data);\n\n        for (let i = 0; i < data.length; i++) {\n          let servico = {\n            id: data[i].id,\n            titulo: data[i].titulo,\n            img: \"http://localhost:3001/\" + data[i].imagem,\n            preco: data[i].valor + '/hora',\n            nome: data[i].usuario,\n            info: data[i].descricao,\n            classificacao: data[i].classificacao / data[i].total,\n            categorias: data[i].categoria,\n            favorito: false\n          };\n          arr.push(servico);\n        }\n\n        this.setState({\n          servicos: arr\n        });\n      });\n    } else {\n      axios.get(\"http://localhost:3001/anuncios\").then(res => {\n        let arr = new Array();\n        let data = JSON.parse(JSON.stringify(res.data));\n\n        for (let i = 0; i < data.length; i++) {\n          let servico = {\n            id: data[i].id,\n            titulo: data[i].titulo,\n            img: \"http://localhost:3001/\" + data[i].imagem,\n            preco: data[i].valor + '/hora',\n            nome: data[i].usuario,\n            info: data[i].descricao,\n            classificacao: data[i].classificacao / data[i].total,\n            favorito: false\n          };\n          arr.push(servico);\n        }\n\n        this.setState({\n          servicos: arr\n        });\n        console.log(this.state.servicos);\n      });\n    }\n  }\n\n  criaFiltro(event) {\n    if (event.target.checked) {\n      let servico;\n\n      if (this.state.filtros != \"\") {\n        servico = this.state.filtros;\n        servico += \",\" + event.target.value;\n      } else servico = event.target.value;\n\n      this.setState({\n        filtros: servico\n      });\n    } else {\n      // esse treho funciona mas não está, precisa ser revisto depois\n      let filtros_escolhidos = this.state.filtros;\n      let novo_filtro;\n      if (filtros_escolhidos.includes(\",\" + event.target.value)) novo_filtro = filtros_escolhidos.replace(\",\" + event.target.value, \"\");else if (filtros_escolhidos.includes(event.target.value + \",\")) novo_filtro = filtros_escolhidos.replace(event.target.value + \",\", \"\");else novo_filtro = filtros_escolhidos.replace(event.target.value, \"\");\n      this.setState({\n        filtros: novo_filtro\n      });\n      console.log(\"novo filtro: \" + novo_filtro);\n    }\n  }\n\n  render() {\n    const {\n      search\n    } = this.state;\n    const filteredServicos = this.state.servicos.filter(servico => {\n      return servico.titulo.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flyout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(NavBarLogado, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      classname: \"filtos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"categorias\",\n      id: \"aula particular\",\n      value: \"Aula Particular\",\n      onChange: e => this.criaFiltro(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"aula particular\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, \"Aula Particular\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"categorias\",\n      id: \"servicos domesticos\",\n      value: \"Servi\\xE7os Domesticos\",\n      onChange: e => this.criaFiltro(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"servicos domesticos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }\n    }, \"Servi\\xE7os Domesticos\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"categorias\",\n      id: \"consertos\",\n      value: \"Consertos\",\n      onChange: e => this.criaFiltro(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"consertos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, \"Consertos\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"aplicar filtros\",\n      onClick: this.aplicarFiltro,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }\n    }, \"Aplicar filtros\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"limpar filtros\",\n      onClick: this.limparFiltro,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, \"Limpar filtros\")), /*#__PURE__*/React.createElement(\"main\", {\n      style: {\n        marginTop: \"4rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Titulo, {\n      nome: \"Nossos\",\n      titulo: \"Servi\\xE7os\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      onChange: this.onchange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, filteredServicos.map(servico => {\n      return this.renderservico(servico);\n    })))));\n  }\n\n}\nProduto.propTypes = {\n  product: propTypes.shape({\n    id: propTypes.number,\n    img: propTypes.string,\n    titulo: propTypes.string,\n    preco: propTypes.number,\n    favorito: propTypes.bool\n  }).isRequired\n};\nconst ProductWrapper = styled.div`\n.card{\n    border-color: transparent;\n    transition: all 0s linear;\n}\n.card-footer{\n    background:var(--mainColor);\n    border-top:transparent;\n    transition: all 0s linear;\n}\n&:hover{\n    .card{\n        border:0.04rem solid rgba(0,0,0,0.2);\n        box-shadow: 2px 2px 5px 0px rgba(0,0,0,0.2);\n    }\n    .card-footer{\n        background: var(--mainColor);\n    }\n}\n.img-container{\n    position: relative;\n    overflow: hidden;\n}\n.card-img-top{\n    transition: all 0.5s linear;\n}   \n.img-container:hover .card-img-top{\n    transform: scale(1.2);\n}\n.card-btn {\n    position: absolute;\n    bottom:0;\n    left:0;\n    padding: 0.2rem 0.7rem;\n    background: var(--mainColor);\n    border: none;\n    color: var(--mainDark);\n    font-size: 1.4rem;\n    border-radius: 0 0.5rem 0 0;\n    transform: translate(600%, 50%);\n    transition: all 0.3s linear;\n}\n.img-container:hover .card-btn {\n    transform: translate(0, 0);\n}\n`;","map":{"version":3,"sources":["/home/raphael/Desktop/tcc/frontend-tcc/src/components/ListaProdutoLogado.js"],"names":["React","Component","Produto","Titulo","ConsumidorServico","NavBarLogado","servicos","styled","Link","ButtonServicos","ButtonNome","propTypes","axios","Input","ListaProduto","state","filtros","search","renderservico","servico","code","id","valor","handleDetalhe","img","titulo","preco","onchange","e","setState","target","value","aplicarFiltro","window","localStorage","setItem","location","reload","limparFiltro","removeItem","componentDidMount","get","getItem","then","res","arr","Array","data","JSON","parse","stringify","i","length","imagem","nome","usuario","info","descricao","classificacao","total","categorias","categoria","favorito","push","console","log","criaFiltro","event","checked","filtros_escolhidos","novo_filtro","includes","replace","render","filteredServicos","filter","toLowerCase","indexOf","marginTop","map","product","shape","number","string","bool","isRequired","ProductWrapper","div"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Produto from './Produto.js';\nimport Titulo from './Titulo.js';\nimport {ConsumidorServico} from '../contexto.js';\nimport NavBarLogado from './NavBarLogado.js';\nimport {servicos} from '../data.js';\nimport styled from 'styled-components';\nimport {Link} from 'react-router-dom';\nimport {ButtonServicos, ButtonNome} from './Button.js';\nimport propTypes from 'prop-types';\nimport axios from 'axios';\nimport '../App.css';\nimport {\n    Input\n  } from \"mdbreact\";\n\nexport default class ListaProduto extends Component {\n\n  state = {\n    filtros:\"\",\n    search: \"\",\n    servicos:[]\n  };\n\n \n componentDidMount(){\n  if(\"filtros\" in localStorage)\n  {\n    axios.get(\"http://localhost:3001/anuncioCategoria/\"+window.localStorage.getItem(\"filtros\")).then(res=>{\n      let arr = new Array();\n      let data = JSON.parse(JSON.stringify(res.data));\n      //console.log(data);\n      for(let i = 0; i < data.length; i++){\n        let servico = {\n          id: data[i].id,\n          titulo: data[i].titulo,\n          img: \"http://localhost:3001/\"+data[i].imagem,\n          preco: data[i].valor+'/hora',\n          nome: data[i].usuario,\n          info: data[i].descricao,\n          classificacao: (data[i].classificacao/data[i].total),\n          categorias: data[i].categoria,\n          favorito: false\n        }\n        arr.push(servico);\n      }\n        this.setState({servicos:arr});\n    })\n  }\n  else{\n  axios.get(\"http://localhost:3001/anuncios\")\n  .then(res =>{\n    let arr = new Array();\n    let data = JSON.parse(JSON.stringify(res.data));\n    for(let i = 0; i < data.length; i++){\n      let servico = {\n        id: data[i].id,\n        titulo: data[i].titulo,\n        img: \"http://localhost:3001/\"+data[i].imagem,\n        preco: data[i].valor+'/hora',\n        nome: data[i].usuario,\n        info: data[i].descricao,\n        classificacao: (data[i].classificacao/data[i].total),\n        favorito: false\n      }\n      arr.push(servico);\n    }\n    this.setState({servicos:arr});\n    console.log(this.state.servicos);\n  })\n}\n }\n\n  renderservico = servico => {\n    const { search } = this.state;\n    var code = servico.id;\n    return (\n        <ProductWrapper className=\"col-9 mx-auto col-md-6 col-lg-3 my-3\">\n        <div className=\"card\">\n            <ConsumidorServico>\n                    {valor => (\n                        <div className=\"img-container p-3\" onClick={()=> valor.handleDetalhe(servico.id)}> \n                            <Link to=\"/detalheslogado\">\n                                <img src={servico.img} alt=\"product\" className=\"card-img-top\" />  \n                            </Link>\n                            <a href = 'http://localhost:3002/'>\n                                <ButtonServicos className=\"card-btn\">\n                                    <span className=\"mr-2\">\n                                      <i class=\"fas fa-comments\"></i>\n                                    </span>\n                                      Conversar\n                               </ButtonServicos>\n                            </a>\n                        </div>\n                    )}\n            </ConsumidorServico>\n            <ConsumidorServico>\n            {valor => (\n              <div className=\"card-footer d-flex justify-content-between\" onClick={()=> valor.handleDetalhe(servico.id)}>\n                <p className=\"align-self-center mb-0\">\n                    <Link id=\"link\" to='/detalheslogado'>   \n                        {servico.titulo}\n                    </Link>\n                    </p>\n                    <h5 className=\"font-italic mb-0\">\n                        <span className=\"mr-1\">R$</span>\n                        {servico.preco}\n                    </h5>\n              </div>\n            )}\n            </ConsumidorServico>\n        </div>                \n    </ProductWrapper>\n    );\n  };\n\n  onchange = e => {\n    this.setState({ search: e.target.value });\n  };\n\n  criaFiltro(event){\n\n    if(event.target.checked){\n    let servico;\n    if(this.state.filtros != \"\"){\n    servico = this.state.filtros;\n    servico += \",\" + event.target.value;\n    }\n    else\n    servico = event.target.value;\n    this.setState({filtros:servico});\n  }\n   else{\n       // esse treho funciona mas não está, precisa ser revisto depois\n       let filtros_escolhidos = this.state.filtros;\n       let novo_filtro;\n       if(filtros_escolhidos.includes(\",\"+event.target.value))\n       novo_filtro = filtros_escolhidos.replace(\",\"+event.target.value,\"\");\n       else if(filtros_escolhidos.includes(event.target.value+\",\")) \n       novo_filtro =filtros_escolhidos.replace(event.target.value+\",\",\"\");\n       else\n       novo_filtro = filtros_escolhidos.replace(event.target.value,\"\");\n       this.setState({filtros:novo_filtro});\n       console.log(\"novo filtro: \"+novo_filtro);\n   }\n  };\n\n  aplicarFiltro = e => {\n    window.localStorage.setItem(\"filtros\",this.state.filtros);\n    window.location.reload();\n  }\n\n  limparFiltro = e => {\n    window.localStorage.removeItem(\"filtros\");\n    window.location.reload();\n  }\n\n\n  render() {\n    const { search } = this.state;\n    const filteredServicos = this.state.servicos.filter(servico => {\n      return servico.titulo.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n    });\n\n    return (\n      <div className=\"flyout\">\n        <NavBarLogado /> \n        <div classname = \"filtos\">\n          <input type =\"checkbox\" name = \"categorias\" id = \"aula particular\" value = \"Aula Particular\" onChange = {e => this.criaFiltro(e)}/>\n          <label for = \"aula particular\">Aula Particular</label>\n          <br/>\n          <input type = \"checkbox\" name = \"categorias\" id = \"servicos domesticos\" value = \"Serviços Domesticos\" onChange = {e => this.criaFiltro(e)}/>\n          <label for = \"servicos domesticos\">Serviços Domesticos</label>\n          <br/>\n          <input type = \"checkbox\" name = \"categorias\" id= \"consertos\" value = \"Consertos\" onChange = {e => this.criaFiltro(e)}/>\n          <label for = \"consertos\">Consertos</label>\n          <br/>\n          <button id = \"aplicar filtros\" onClick = {this.aplicarFiltro}>Aplicar filtros</button>\n          <br/>\n          <button id = \"limpar filtros\" onClick = {this.limparFiltro}>Limpar filtros</button>\n        </div>\n        <main style={{ marginTop: \"4rem\" }}>\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col\">\n                <center>\n                  <Titulo nome=\"Nossos\" titulo=\"Serviços\"></Titulo>\n                  <p>\n                  <span>\n                    <i class=\"fas fa-search\"></i>\n                  </span>\n                  <Input\n                    type=\"text\"\n                    onChange={this.onchange}\n                  />\n                  </p>\n                </center>\n              </div>\n            </div>\n            <div className=\"row\">\n              {filteredServicos.map(servico => {\n                return this.renderservico(servico);\n              })}\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\nProduto.propTypes = {\n    product:propTypes.shape({\n        id:propTypes.number,\n        img:propTypes.string,\n        titulo:propTypes.string,\n        preco:propTypes.number,\n        favorito:propTypes.bool \n    }).isRequired\n};\nconst ProductWrapper = styled.div`\n.card{\n    border-color: transparent;\n    transition: all 0s linear;\n}\n.card-footer{\n    background:var(--mainColor);\n    border-top:transparent;\n    transition: all 0s linear;\n}\n&:hover{\n    .card{\n        border:0.04rem solid rgba(0,0,0,0.2);\n        box-shadow: 2px 2px 5px 0px rgba(0,0,0,0.2);\n    }\n    .card-footer{\n        background: var(--mainColor);\n    }\n}\n.img-container{\n    position: relative;\n    overflow: hidden;\n}\n.card-img-top{\n    transition: all 0.5s linear;\n}   \n.img-container:hover .card-img-top{\n    transform: scale(1.2);\n}\n.card-btn {\n    position: absolute;\n    bottom:0;\n    left:0;\n    padding: 0.2rem 0.7rem;\n    background: var(--mainColor);\n    border: none;\n    color: var(--mainDark);\n    font-size: 1.4rem;\n    border-radius: 0 0.5rem 0 0;\n    transform: translate(600%, 50%);\n    transition: all 0.3s linear;\n}\n.img-container:hover .card-btn {\n    transform: translate(0, 0);\n}\n`;\n\n"]},"metadata":{},"sourceType":"module"}