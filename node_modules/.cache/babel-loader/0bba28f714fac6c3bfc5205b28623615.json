{"ast":null,"code":"var _jsxFileName = \"/home/raphael/Desktop/tcc/frontend-tcc/src/components/EditarCadastro.js\";\nimport React from 'react';\nimport './login/src/App.css';\nimport ReactDOM from \"react-dom\";\nimport axios from 'axios';\nimport './login/src/id.css';\nconst emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\nconst numeroRegex = RegExp(/\\(\\d{2,}\\) \\d{4,}\\-\\d{4}/);\nconst cidadeEstadoRegex = RegExp(/^[A-Za-zÀ-ÖØ-öø-ÿ][A-Za-zÀ-ÖØ-öø-ÿ\\s]*$/);\n\nconst formValid = ({\n  formErrors,\n  ...rest\n}) => {\n  let valid = true;\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nconst id_usuario = window.localStorage.getItem(\"id\");\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const usuario = {\n        nome: this.state.nome,\n        senha: this.state.password,\n        telefone: this.state.telefone,\n        estado: this.state.estado,\n        cidade: this.state.cidade,\n        email: this.state.email\n      }; //if (formValid(this.state)) \n\n      if (this.state.aprovadoNome === true && this.state.aprovadoSobrenome === true && this.state.aprovadoEmail === true && this.state.aprovadoConfirmarSenha === true && this.state.aprovadoEstado === true && this.state.aprovadoCidade === true && this.state.aprovadoTelefone === true) {\n        axios.post('http://localhost:3001/updateUsuario/' + id_usuario, usuario).then(res => {\n          localStorage.setItem(\"id_usuario\", res.data);\n          window.location.href = \"http://localhost:3000/usuariologado\";\n        });\n      } else {\n        alert('Parece que o cadastro ainda está incompleto');\n        console.log(this.state.aprovadoNome === true, this.state.aprovadoSobrenome === true, this.state.aprovadoEmail === true, this.state.aprovadoConfirmarSenha === true, this.state.aprovadoEstado, this.state.aprovadoCidade === true, this.state.aprovadoTelefone);\n      } //} else {\n      //console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n\n    };\n\n    this.handleLogin = e => {\n      e.preventDefault();\n      const usuario = {\n        email: this.state.emailLogin,\n        senha: this.state.passwordLogin\n      }; //if (formValid(this.state)) {\n\n      axios.post('http://localhost:3001/loginUsuario', usuario).then(res => {\n        console.log(res);\n      });\n    };\n\n    this.handleChange = e => {\n      e.preventDefault();\n      const {\n        name,\n        value\n      } = e.target;\n      let formErrors = { ...this.state.formErrors\n      };\n\n      switch (name) {\n        case \"nome\":\n          formErrors.nome = value.length > 3 && cidadeEstadoRegex.test(value) ? \"\" : \"Nome invalido\";\n          this.setState({\n            aprovadoNome: value.length > 3 && cidadeEstadoRegex.test(value)\n          });\n          break;\n\n        case \"cidade\":\n          formErrors.cidade = value.length > 3 && cidadeEstadoRegex.test(value) ? \"\" : \"Cidade invalida\";\n          this.setState({\n            aprovadoCidade: value.length > 3 && cidadeEstadoRegex.test(value)\n          });\n          break;\n\n        case \"telefone\":\n          formErrors.telefone = numeroRegex.test(value) && value.length <= 19 && value.length >= 17 ? \"\" : \"exemplo +55 (11) 11111-1111\";\n          this.setState({\n            aprovadoTelefone: numeroRegex.test(value) && value.length <= 19 && value.length >= 17\n          });\n          break;\n\n        case \"estado\":\n          formErrors.estado = value.length > 3 && cidadeEstadoRegex.test(value) ? \"\" : \"Estado invalido\";\n          this.setState({\n            aprovadoEstado: value.length > 3 && cidadeEstadoRegex.test(value)\n          });\n          break;\n\n        case \"email\":\n          formErrors.email = emailRegex.test(value) ? \"\" : \"email invalido\";\n          this.setState({\n            aprovadoEmail: emailRegex.test(value)\n          });\n          break;\n\n        case \"emailLogin\":\n          formErrors.emailLogin = emailRegex.test(value) ? \"\" : \"email invalido\";\n          break;\n\n        case \"password\":\n          formErrors.password = value.length < 6 ? \"minimo 6 caracteres\" : \"\";\n          formErrors.confirmarSenha = this.state.confirmarSenha !== value ? \"Por favor insira a mesma senha novamente\" : \"\";\n          this.setState({\n            aprovadoSenha: this.state.confirmarSenha === value\n          });\n          break;\n\n        case \"confirmarSenha\":\n          formErrors.confirmarSenha = value !== this.state.password ? \"Por favor insira a mesma senha novamente\" : \"\";\n          this.setState({\n            aprovadoConfirmarSenha: value === this.state.password\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        formErrors,\n        [name]: value\n      }\n      /*() => console.log(this.state)*/\n      );\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        value: !this.state.value\n      });\n    };\n\n    this.state = {\n      nome: null,\n      sobrenome: null,\n      email: null,\n      emailLogin: null,\n      password: null,\n      passwordLogin: null,\n      telefone: null,\n      estado: null,\n      cidade: null,\n      confirmarSenha: null,\n      value: true,\n      aprovadoEmail: true,\n      aprovadoConfirmarSenha: false,\n      aprovadoNome: true,\n      aprovadoSobrenome: true,\n      aprovadoEstado: true,\n      aprovadoCidade: true,\n      aprovadoTelefone: true,\n      formErrors: {\n        nome: \"\",\n        sobrenome: \"\",\n        email: \"\",\n        emailLogin: \"\",\n        password: \"\",\n        passwordLogin: \"\",\n        cidade: \"\",\n        estado: \"\",\n        confirmarSenha: \"\",\n        telefone: \"\"\n      }\n    };\n  }\n\n  componentWillMount() {\n    axios.get('http://localhost:3001/usuario/' + id_usuario).then(res => {\n      this.setState({\n        email: res.data.email\n      });\n      this.setState({\n        password: res.data.senha\n      });\n      this.setState({\n        nome: res.data.nome\n      });\n      this.setState({\n        sobrenome: res.data.nome\n      });\n      this.setState({\n        estado: res.data.estado\n      });\n      this.setState({\n        cidade: res.data.cidade\n      });\n      this.setState({\n        telefone: res.data.telefone\n      });\n    });\n  }\n\n  delete(e) {\n    e.preventDefault();\n    window.confirm(\"ola\");\n    /*if(window.confirm(\"Deseja realmente deletar sua conta?\"))\n    axios.post(\"http://localhost:3001/deletarUsuario/\"+id_usuario).then(res=>{\n      localStorage.clear()\n      alert(\"Sua conta foi deletada com sucesso\");\n      //window.location.href= \"http://localhost:3000/\";\n    }).catch(error => {alert(\"Não foi possível deletar a conta\");})*/\n  }\n\n  Message(state) {\n    const {\n      formErrors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      method: \"get\",\n      action: \"/usuariologado\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-arrow-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 19\n      }\n    })), \"Voltar\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      noValidate: true,\n      method: \"POST\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      className: \"text-title-trabalho\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: formErrors.email.length > 0 ? \"error\" : null,\n      value: this.state.email,\n      placeholder: \"Email\",\n      type: \"email\",\n      name: \"email\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    }), formErrors.email.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }, formErrors.email)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      className: \"text-title-trabalho\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }, \"Senha\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: formErrors.password.length > 0 ? \"error\" : null,\n      value: this.state.password,\n      placeholder: \"Senha\",\n      type: \"password\",\n      name: \"password\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }), formErrors.password.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    }, formErrors.password)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"confirmarSenha\",\n      className: \"text-title-trabalho\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 15\n      }\n    }, \"Confirmar Senha\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: formErrors.confirmarSenha.length > 0 ? \"error\" : null,\n      placeholder: \"Confirmar Senha\",\n      type: \"password\",\n      name: \"confirmarSenha\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }\n    }), formErrors.confirmarSenha.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }, formErrors.confirmarSenha)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nomeCompleto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nome\",\n      className: \"text-title-trabalho\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 15\n      }\n    }, \"Nome Completo\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: formErrors.nome.length > 0 ? \"error\" : null,\n      value: this.state.nome,\n      placeholder: \"Nome\",\n      type: \"nome\",\n      name: \"nome\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }\n    }), formErrors.nome.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }, formErrors.nome)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"firstName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"firstName\",\n      className: \"text-title-trabalho\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    }, \"Estado\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: formErrors.estado.length > 0 ? \"error\" : null,\n      value: this.state.estado,\n      placeholder: \"Estado\",\n      type: \"estado\",\n      name: \"estado\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 15\n      }\n    }), formErrors.estado.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }\n    }, formErrors.estado)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lastName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"telefone\",\n      className: \"text-title-trabalho\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 15\n      }\n    }, \"Cidade\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: formErrors.cidade.length > 0 ? \"error\" : null,\n      value: this.state.cidade,\n      placeholder: \"Cidade\",\n      type: \"cidade\",\n      name: \"cidade\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 15\n      }\n    }), formErrors.cidade.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }\n    }, formErrors.cidade)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lastName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"telefone\",\n      className: \"text-title-trabalho\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 15\n      }\n    }, \"Telefone\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: formErrors.telefone.length > 0 ? \"error\" : null,\n      value: this.state.telefone,\n      placeholder: \"Telefone\",\n      type: \"telefone\",\n      name: \"telefone\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 15\n      }\n    }), formErrors.telefone.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }\n    }, formErrors.telefone)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"createAccount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 15\n      }\n    }, \"Atualizar\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"clique\",\n      onclick: e => this.delete(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 15\n      }\n    }, \"Deletar Conta\"))));\n  }\n\n  render() {\n    const {\n      formErrors\n    } = this.state;\n    const state = this.state.value;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }\n    }, this.Message(state)));\n  }\n\n}\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 3\n  }\n}), document.getElementById('root'));","map":{"version":3,"sources":["/home/raphael/Desktop/tcc/frontend-tcc/src/components/EditarCadastro.js"],"names":["React","ReactDOM","axios","emailRegex","RegExp","numeroRegex","cidadeEstadoRegex","formValid","formErrors","rest","valid","Object","values","forEach","val","length","id_usuario","window","localStorage","getItem","App","Component","constructor","props","handleSubmit","e","preventDefault","usuario","nome","state","senha","password","telefone","estado","cidade","email","aprovadoNome","aprovadoSobrenome","aprovadoEmail","aprovadoConfirmarSenha","aprovadoEstado","aprovadoCidade","aprovadoTelefone","post","then","res","setItem","data","location","href","alert","console","log","handleLogin","emailLogin","passwordLogin","handleChange","name","value","target","test","setState","confirmarSenha","aprovadoSenha","handleClick","sobrenome","componentWillMount","get","delete","confirm","Message","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './login/src/App.css';\nimport ReactDOM from \"react-dom\";\nimport axios from 'axios';\nimport './login/src/id.css';\nconst emailRegex = RegExp(\n  /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\nconst numeroRegex = RegExp(\n  /\\(\\d{2,}\\) \\d{4,}\\-\\d{4}/\n);\nconst cidadeEstadoRegex = RegExp(\n    /^[A-Za-zÀ-ÖØ-öø-ÿ][A-Za-zÀ-ÖØ-öø-ÿ\\s]*$/\n);\nconst formValid = ({ formErrors, ...rest }) => {\n  let valid = true;\n\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n\n  return valid;\n};\n\nconst id_usuario = window.localStorage.getItem(\"id\");\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      nome: null,\n      sobrenome: null,\n      email: null,\n      emailLogin: null,\n      password: null,\n      passwordLogin: null,\n      telefone: null,\n      estado: null,\n      cidade: null,\n      confirmarSenha: null,\n      value:true,\n      aprovadoEmail: true,\n      aprovadoConfirmarSenha: false,\n      aprovadoNome: true,\n      aprovadoSobrenome: true,\n      aprovadoEstado: true,\n      aprovadoCidade: true,\n      aprovadoTelefone: true,\n      formErrors: {\n        nome: \"\",\n        sobrenome: \"\",\n        email: \"\",\n        emailLogin: \"\",\n        password: \"\",\n        passwordLogin: \"\",\n        cidade: \"\",\n        estado: \"\",\n        confirmarSenha: \"\",\n        telefone: \"\",\n      }\n    };\n  }\n componentWillMount(){\n  axios.get('http://localhost:3001/usuario/'+id_usuario).then(res=>{\n    this.setState({email: res.data.email});\n    this.setState({password: res.data.senha});\n    this.setState({nome: res.data.nome});\n    this.setState({sobrenome: res.data.nome});\n    this.setState({estado: res.data.estado});\n    this.setState({cidade: res.data.cidade});\n    this.setState({telefone: res.data.telefone});\n  });\n  \n }\n\n  handleSubmit = e => {\n      e.preventDefault();\n      const usuario = {\n        nome: this.state.nome,\n        senha: this.state.password,\n        telefone: this.state.telefone,\n        estado: this.state.estado,\n        cidade: this.state.cidade,\n        email: this.state.email\n       };\n    //if (formValid(this.state)) \n    if(this.state.aprovadoNome === true && this.state.aprovadoSobrenome === true && \n       this.state.aprovadoEmail ===true && \n       this.state.aprovadoConfirmarSenha === true &&\n       this.state.aprovadoEstado === true && this.state.aprovadoCidade === true && \n       this.state.aprovadoTelefone === true){\n\n        axios.post('http://localhost:3001/updateUsuario/'+id_usuario,usuario)\n       .then(res =>{\n        localStorage.setItem(\"id_usuario\", res.data);\n         window.location.href = \"http://localhost:3000/usuariologado\";\n       })\n       \n    }else{\n      alert('Parece que o cadastro ainda está incompleto');\n      console.log(this.state.aprovadoNome === true, this.state.aprovadoSobrenome === true, \n        this.state.aprovadoEmail ===true, \n        this.state.aprovadoConfirmarSenha === true,\n        this.state.aprovadoEstado, this.state.aprovadoCidade === true, \n        this.state.aprovadoTelefone)\n    }\n    //} else {\n      //console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n  };\n\n  delete(e){\n    e.preventDefault()\n    window.confirm(\"ola\");\n    /*if(window.confirm(\"Deseja realmente deletar sua conta?\"))\n    axios.post(\"http://localhost:3001/deletarUsuario/\"+id_usuario).then(res=>{\n      localStorage.clear()\n      alert(\"Sua conta foi deletada com sucesso\");\n      //window.location.href= \"http://localhost:3000/\";\n    }).catch(error => {alert(\"Não foi possível deletar a conta\");})*/\n  }\n\n  handleLogin = e =>{\n   e.preventDefault();\n\n    const usuario = {\n    email: this.state.emailLogin,\n    senha: this.state.passwordLogin,\n   };\n\n  //if (formValid(this.state)) {\n    \n     axios.post('http://localhost:3001/loginUsuario',usuario)\n     .then(res =>{\n       console.log(res);\n     })\n};\n  handleChange = e => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let formErrors = { ...this.state.formErrors };\n \n    switch (name) {\n      case \"nome\":\n        formErrors.nome =\n          (value.length > 3) && cidadeEstadoRegex.test(value) ? \"\" : \"Nome invalido\";\n          this.setState({aprovadoNome: (value.length > 3) && cidadeEstadoRegex.test(value)});\n        break;\n      case \"cidade\":\n        formErrors.cidade =\n          (value.length > 3) && cidadeEstadoRegex.test(value) ? \"\" : \"Cidade invalida\";\n          this.setState({aprovadoCidade: (value.length > 3) && cidadeEstadoRegex.test(value)});\n        break;\n      case \"telefone\":\n        formErrors.telefone = (numeroRegex.test(value) && value.length <= 19 && value.length >= 17)\n          ? \"\"\n          : \"exemplo +55 (11) 11111-1111\";\n          this.setState({aprovadoTelefone: (numeroRegex.test(value) && value.length <= 19 && value.length >= 17)});\n        break;\n      case \"estado\":\n        formErrors.estado =\n        (value.length > 3) && cidadeEstadoRegex.test(value) ? \"\" : \"Estado invalido\";\n        this.setState({aprovadoEstado: (value.length > 3) && cidadeEstadoRegex.test(value)});\n        break;\n      case \"email\":\n        formErrors.email = emailRegex.test(value)\n          ? \"\"\n          : \"email invalido\";\n          this.setState({aprovadoEmail: emailRegex.test(value)});\n        break;\n      case \"emailLogin\":\n        formErrors.emailLogin = emailRegex.test(value)\n          ? \"\"\n          : \"email invalido\";\n        break;\n      case \"password\":\n        formErrors.password =\n          value.length < 6 ? \"minimo 6 caracteres\" : \"\";\n        formErrors.confirmarSenha =\n          this.state.confirmarSenha !== value ? \"Por favor insira a mesma senha novamente\" : \"\";\n          this.setState({aprovadoSenha: this.state.confirmarSenha === value});\n        break;\n        case \"confirmarSenha\":\n          formErrors.confirmarSenha =\n            value !== this.state.password ? \"Por favor insira a mesma senha novamente\" : \"\";\n            this.setState({aprovadoConfirmarSenha: value === this.state.password });\n          break;\n      default:\n        break;\n    }\n\n    this.setState({ formErrors, [name]: value }, /*() => console.log(this.state)*/);\n  };\n  Message (state)  {\n    const { formErrors } = this.state;\n      return(\n        <div>\n          <form method=\"get\" action=\"/usuariologado\">\n            <button>\n                <span className=\"mr-2\">\n                  <i className=\"fas fa-arrow-left\"></i>\n                </span>\n                  Voltar\n            </button>\n          </form>\n          <p></p>\n          <form onSubmit={this.handleSubmit} noValidate method = \"POST\">\n           <div className=\"email\">\n              <label htmlFor=\"email\" className=\"text-title-trabalho\">Email</label>\n              <input\n                className={formErrors.email.length > 0 ? \"error\" : null}\n                value= {this.state.email}\n                placeholder=\"Email\"\n                type=\"email\"\n                name=\"email\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.email.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.email}</span>\n              )}\n            </div>\n            <div className=\"password\">\n              <label htmlFor=\"password\" className=\"text-title-trabalho\">Senha</label>\n              <input\n                className={formErrors.password.length > 0 ? \"error\" : null}\n                value= {this.state.password}\n                placeholder=\"Senha\"\n                type=\"password\"\n                name=\"password\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.password.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.password}</span>\n              )}\n            </div>\n            <div className=\"password\">\n              <label htmlFor=\"confirmarSenha\" className=\"text-title-trabalho\">Confirmar Senha</label>\n              <input\n                className={formErrors.confirmarSenha.length > 0 ? \"error\" : null}\n                placeholder=\"Confirmar Senha\"\n                type=\"password\"\n                name=\"confirmarSenha\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.confirmarSenha.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.confirmarSenha}</span>\n              )}\n            </div>\n            <div className=\"nomeCompleto\">\n              <label htmlFor=\"nome\" className=\"text-title-trabalho\">Nome Completo</label>\n              <input\n                className={formErrors.nome.length > 0 ? \"error\" : null}\n                value= {this.state.nome}\n                placeholder=\"Nome\"\n                type=\"nome\"\n                name=\"nome\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.nome.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.nome}</span>\n              )}\n            </div>\n            <div className=\"firstName\">\n              <label htmlFor=\"firstName\" className=\"text-title-trabalho\">Estado</label>\n              <input\n                className={formErrors.estado.length > 0 ? \"error\" : null}\n                value= {this.state.estado}\n                placeholder=\"Estado\"\n                type=\"estado\"\n                name=\"estado\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.estado.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.estado}</span>\n              )}\n            </div>\n            <div className=\"lastName\">\n              <label htmlFor=\"telefone\" className=\"text-title-trabalho\">Cidade</label>\n              <input\n                className={formErrors.cidade.length > 0 ? \"error\" : null}\n                value= {this.state.cidade}\n                placeholder=\"Cidade\"\n                type=\"cidade\"\n                name=\"cidade\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.cidade.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.cidade}</span>\n              )}\n            </div>\n            <div className=\"lastName\">\n              <label htmlFor=\"telefone\" className=\"text-title-trabalho\">Telefone</label>\n              <input\n                className={formErrors.telefone.length > 0 ? \"error\" : null}\n                value= {this.state.telefone}\n                placeholder=\"Telefone\"\n                type=\"telefone\"\n                name=\"telefone\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.telefone.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.telefone}</span>\n              )}\n            </div>\n            <div className=\"createAccount\">\n              <button type=\"submit\">Atualizar</button>\n              <button className=\"clique\" onclick = {e => this.delete(e)}>Deletar Conta</button>\n            </div>\n          </form>\n        </div>\n      )\n  }\n\n   handleClick = () => {\n    this.setState({\n      value: !this.state.value\n    })\n  }\n\n \n  \n  render(){\n    const { formErrors } = this.state;\n    const state = this.state.value;\n    return(  \n      <div className=\"wrapper\">\n        <div className=\"form-wrapper\">\n       {this.Message(state)}\n        </div>\n      </div>\n      \n    )\n  }\n}\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n\n);\n"]},"metadata":{},"sourceType":"module"}