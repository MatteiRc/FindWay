{"ast":null,"code":"var _jsxFileName = \"/home/raphael/Desktop/tcc/frontend-tcc/src/components/Servicos.js\";\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { ConsumidorServico } from '../contexto.js';\nimport { ButtonFavorito } from './Button.js';\nimport propTypes from 'prop-types';\nimport \"../styles/servicos.css\";\nimport Axios from 'axios';\nconst baseUrl = \"http://localhost:3001/fazeranuncio\";\nconst InitialState = {\n  anuncio: {\n    titulo: \"\",\n    cidade: \"\",\n    descricao: \"\",\n    horarios: \"\",\n    valor: \"\",\n    imagem: \"\",\n    categorias: \"\",\n    classificacao: 0\n  },\n  idUsuario: \"\",\n  isInvalid: false,\n  saved: false,\n  isEmpty: true\n};\nexport default class Servico extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...InitialState\n    };\n  }\n\n  save(event) {\n    event.preventDefault();\n    const url = baseUrl + \"/\" + window.localStorage.getItem(\"id\");\n    const data = new FormData();\n    data.append(\"file\", this.state.anuncio.imagem);\n    data.append(\"cidade\", this.state.anuncio.cidade);\n    data.append(\"descricao\", this.state.anuncio.descricao);\n    data.append(\"horarios\", this.state.anuncio.horarios);\n    data.append(\"valor\", this.state.anuncio.valor);\n    data.append(\"titulo\", this.state.anuncio.titulo);\n    data.append(\"categoria\", this.state.anuncio.categorias);\n    Axios.post(url, data).then(res => {\n      console.log(res);\n    });\n    window.location.href = \"http://localhost:3000/usuariologado\";\n  }\n\n  updateField(event) {\n    const anuncio = { ...this.state.anuncio\n    };\n    let isEmpty = false; //console.log(event.target.value);\n\n    anuncio[event.target.name] = event.target.value;\n    if (anuncio.cidade == \"\" || anuncio.descricao == \"\" || anuncio.horarios == \"\" || anuncio.valor == \"\" || anuncio.titulo == \"\" || anuncio.categorias == \"\") isEmpty = true;\n    this.setState({\n      anuncio,\n      isEmpty\n    });\n  }\n\n  displayImg(event) {\n    let img = document.getElementById(\"foto\");\n    img.src = URL.createObjectURL(event.target.files[0]);\n  }\n\n  handleCheck(event) {\n    const anuncio = { ...this.state.anuncio\n    };\n    let isEmpty = false;\n\n    if (event.target.checked) {\n      let categoria;\n\n      if (this.state.anuncio.categorias != \"\") {\n        categoria = this.state.anuncio.categorias;\n        categoria += \",\" + event.target.value;\n      } else categoria = event.target.value;\n\n      anuncio[event.target.name] = categoria;\n      if (anuncio.cidade == \"\" || anuncio.descricao == \"\" || anuncio.horarios == \"\" || anuncio.valor == \"\" || anuncio.titulo == \"\" || anuncio.categorias == \"\") isEmpty = true;\n      console.log(categoria);\n      this.setState({\n        anuncio,\n        isEmpty\n      });\n    } else {\n      let categorias = this.state.anuncio.categorias;\n      let nova_categoria;\n      if (categorias.includes(\",\" + event.target.value)) nova_categoria = categorias.replace(\",\" + event.target.value, \"\");else if (categorias.includes(event.target.value + \",\")) nova_categoria = categorias.replace(event.target.value + \",\", \"\");else nova_categoria = categorias.replace(event.target.value, \"\");\n      anuncio[event.target.name] = nova_categoria;\n      if (anuncio.cidade == \"\" || anuncio.descricao == \"\" || anuncio.horarios == \"\" || anuncio.valor == \"\" || anuncio.titulo == \"\" || anuncio.categorias == \"\") isEmpty = true;\n      console.log(nova_categoria);\n      this.setState({\n        anuncio,\n        isEmpty\n      });\n    }\n  }\n\n  fileSelect(event) {\n    const anuncio = { ...this.state.anuncio\n    };\n    anuncio[event.target.name] = event.target.files[0];\n    this.setState({\n      anuncio\n    });\n    this.displayImg(event);\n    console.log(anuncio.imagem);\n  }\n\n  renderForm() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      method: \"POST\",\n      onSubmit: e => this.save(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      method: \"get\",\n      action: \"/usuariologado\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-arrow-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    })), \"Voltar\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"titulo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"Titulo do Servi\\xE7o\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"titulo\",\n      id: \"titulo\",\n      onChange: e => this.updateField(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"cidade\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, \"Cidade\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"cidade\",\n      id: \"cidade\",\n      onChange: e => this.updateField(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"descricao\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"Descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      name: \"descricao\",\n      id: \"descricao\",\n      onChange: e => this.updateField(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"horarios\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, \"Hor\\xE1rios dispon\\xEDveis\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"horarios\",\n      id: \"horarios\",\n      onChange: e => this.updateField(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"Number area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"File\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"imagem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, \"Escolha uma foto para anexar ao curr\\xEDculo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"imagem\",\n      id: \"imagem\",\n      accept: \"imagem/*\",\n      onChange: e => this.fileSelect(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      id: \"foto\",\n      width: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"Button area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"cadastrarservico\",\n      type: \"submit\",\n      disabled: this.state.isEmpty,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, \"Cadastrar Servi\\xE7o\"))));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, this.renderForm()));\n  }\n\n}","map":{"version":3,"sources":["/home/raphael/Desktop/tcc/frontend-tcc/src/components/Servicos.js"],"names":["React","Component","styled","Link","ConsumidorServico","ButtonFavorito","propTypes","Axios","baseUrl","InitialState","anuncio","titulo","cidade","descricao","horarios","valor","imagem","categorias","classificacao","idUsuario","isInvalid","saved","isEmpty","Servico","state","save","event","preventDefault","url","window","localStorage","getItem","data","FormData","append","post","then","res","console","log","location","href","updateField","target","name","value","setState","displayImg","img","document","getElementById","src","URL","createObjectURL","files","handleCheck","checked","categoria","nova_categoria","includes","replace","fileSelect","renderForm","e","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport {Link} from 'react-router-dom';\nimport {ConsumidorServico} from '../contexto.js'; \nimport {ButtonFavorito} from './Button.js';\nimport propTypes from 'prop-types';\nimport \"../styles/servicos.css\"\nimport Axios from 'axios';\n\nconst baseUrl = \"http://localhost:3001/fazeranuncio\";\nconst InitialState ={\n    anuncio:{titulo:\"\",\n    cidade:\"\",\n    descricao:\"\",\n    horarios:\"\",\n    valor:\"\",\n    imagem:\"\",\n    categorias:\"\",\n    classificacao:0},\n    idUsuario:\"\",\n    isInvalid: false,\n    saved: false,\n    isEmpty:true\n}\n\n\nexport default class Servico extends Component{\n     state = {...InitialState};\n       \n     \n\n     save(event){\n         event.preventDefault();\n         const url = baseUrl + \"/\" + window.localStorage.getItem(\"id\");\n         const data = new FormData();\n         data.append(\"file\",this.state.anuncio.imagem);\n         data.append(\"cidade\",this.state.anuncio.cidade);\n         data.append(\"descricao\",this.state.anuncio.descricao);\n         data.append(\"horarios\",this.state.anuncio.horarios);\n         data.append(\"valor\",this.state.anuncio.valor);\n         data.append(\"titulo\",this.state.anuncio.titulo);\n         data.append(\"categoria\",this.state.anuncio.categorias);\n         Axios.post(url,data).then(res=>{\n             console.log(res);\n         })\n         window.location.href = \"http://localhost:3000/usuariologado\";\n\n     }\n\n     updateField(event){\n         const anuncio = {...this.state.anuncio};\n         let isEmpty = false;\n         //console.log(event.target.value);\n         anuncio[event.target.name] = event.target.value;\n         if(anuncio.cidade == \"\" || anuncio.descricao == \"\" || anuncio.horarios == \"\" || anuncio.valor == \"\" || anuncio.titulo == \"\" || anuncio.categorias == \"\")\n             isEmpty = true;\n             this.setState({anuncio,isEmpty});\n\n        }\n\n     displayImg(event){\n         let img = document.getElementById(\"foto\");\n         img.src = URL.createObjectURL(event.target.files[0]);\n\n     }\n\n     handleCheck(event){\n         const anuncio = {...this.state.anuncio};\n         let isEmpty = false;\n         if(event.target.checked){\n             let categoria;\n             if(this.state.anuncio.categorias != \"\"){\n             categoria = this.state.anuncio.categorias;\n             categoria += \",\"+event.target.value;\n             }\n             else\n             categoria = event.target.value;\n             anuncio[event.target.name]=categoria\n             if(anuncio.cidade == \"\" || anuncio.descricao == \"\" || anuncio.horarios == \"\" || anuncio.valor == \"\" || anuncio.titulo == \"\" || anuncio.categorias == \"\")\n             isEmpty = true;\n             console.log(categoria);\n             this.setState({anuncio,isEmpty});\n         }\n         else{\n             let categorias = this.state.anuncio.categorias;\n             let nova_categoria;\n             if(categorias.includes(\",\"+event.target.value))\n             nova_categoria = categorias.replace(\",\"+event.target.value,\"\");\n             else if(categorias.includes(event.target.value+\",\"))\n             nova_categoria = categorias.replace(event.target.value+\",\",\"\");\n             else\n             nova_categoria = categorias.replace(event.target.value,\"\");\n             anuncio[event.target.name] = nova_categoria;\n             if(anuncio.cidade == \"\" || anuncio.descricao == \"\" || anuncio.horarios == \"\" || anuncio.valor == \"\" || anuncio.titulo == \"\" || anuncio.categorias == \"\")\n             isEmpty = true;\n             console.log(nova_categoria);\n             this.setState({anuncio,isEmpty});\n         }\n     }\n\n     fileSelect(event){\n         const anuncio = {... this.state.anuncio};\n         anuncio[event.target.name] = event.target.files[0];\n         this.setState({anuncio});\n         this.displayImg(event);\n         console.log(anuncio.imagem);\n     }\n\n     renderForm(){\n         return(\n            <form method = \"POST\" onSubmit = {e => this.save(e)}>\n                <form method=\"get\" action=\"/usuariologado\">\n                    <button>\n                    <span className=\"mr-2\">\n                        <i className=\"fas fa-arrow-left\"></i>\n                    </span>\n                        Voltar\n                    </button>\n                </form>\n                <div class = \"form\">\n                <div class = \"input area\">\n                <label for = \"titulo\">Titulo do Serviço</label>\n                <br/>\n                <input type = \"text\" name = \"titulo\" id = \"titulo\" onChange ={e => this.updateField(e)}/>\n                </div>\n                <div class = \"input area\">\n                <label for = \"cidade\">Cidade</label>\n                <br/>\n                <input type = \"text\" name = \"cidade\" id=\"cidade\" onChange = {e =>this.updateField(e)}/>\n                </div>\n                <div class = \"input area\">\n                <br/>\n                <label for = \"descricao\">Descrição</label>\n                <br/>\n                <textarea type = \"text\" name = \"descricao\" id = \"descricao\" onChange = {e => this.updateField(e)}/>\n                </div>\n                <div class = \"input area\">\n                <br/>\n                <label for = \"horarios\">Horários disponíveis</label>\n                <br/>\n                <input type = \"text\" name = \"horarios\" id = \"horarios\" onChange = {e => this.updateField(e)}/>\n                </div>\n                <div class = \"Number area\">\n                <br/>\n                <br/>\n                </div>\n                <div class = \"File\">\n                <br/>\n                <label for = \"imagem\">Escolha uma foto para anexar ao currículo</label>\n                <input type = \"file\" name=\"imagem\" id=\"imagem\" accept = \"imagem/*\" onChange ={ e => this.fileSelect(e) }/>\n                <br/>\n                <img id=\"foto\" width = \"100\"/>\n                <br/>\n                </div>\n                <div class = \"Button area\">\n                <button id = \"cadastrarservico\" type = \"submit\" disabled = {this.state.isEmpty}>Cadastrar Serviço</button>\n                </div>\n            </div>\n             </form>\n         )\n     }\n    \n    \n    \n    \n    \n    \n    render(){\n         return(\n             <div class = \"wrapper\">\n                <div class= \"form-wrapper\">\n                {this.renderForm()}\n                </div>\n            </div>            \n         )\n     }\n\n\n}"]},"metadata":{},"sourceType":"module"}